%四元数转旋转矩阵
function  R= QuaternionstoR(Q)
R=[1-2*Q(3)^2-2*Q(4)^2,       2*(Q(2)*Q(3)-Q(1)*Q(4)),  2*(Q(2)*Q(4)+Q(1)*Q(3));
   2*(Q(2)*Q(3)+Q(1)*Q(4)),   1-2*Q(2)^2-2*Q(4)^2,      2*(Q(3)*Q(4)-Q(1)*Q(2));
   2*(Q(2)*Q(4)-Q(1)*Q(3)),   2*(Q(3)*Q(4)+Q(1)*Q(2)),  1-2*Q(2)^2-2*Q(3)^2];
end